(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-725629b1"],{"0861":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"b",(function(){return u}));a("6a61");var n=a("2e91"),r=a("b775");function i(e,t,a,n){return c.apply(this,arguments)}function c(){return c=Object(n["a"])(regeneratorRuntime.mark((function e(t,a,n,i){var c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return c=r["a"].request({method:"get",url:"/console/addOrderForm",params:{product_id:t,kind:a,member_phone:n,exchangeIntegral:i}}),e.abrupt("return",c);case 2:case"end":return e.stop()}}),e)}))),c.apply(this,arguments)}function o(e,t){return l.apply(this,arguments)}function l(){return l=Object(n["a"])(regeneratorRuntime.mark((function e(t,a){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r["a"].request({method:"get",url:"/console/orderFormList",params:{currentPage:t,pageSize:a}}),e.abrupt("return",n);case 2:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function u(e,t,a){return s.apply(this,arguments)}function s(){return s=Object(n["a"])(regeneratorRuntime.mark((function e(t,a,n){var i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=r["a"].request({method:"get",url:"/console/deleteOrderForm",params:{orderForm_id:t,member_phone:a,exchangeIntegral:n}}),e.abrupt("return",i);case 2:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}},"1fef":function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"4ec2":function(e,t,a){},5277:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",[a("el-header",{attrs:{height:"100px"}},[a("div",[e._v(" 产品名称 "),a("el-autocomplete",{attrs:{"fetch-suggestions":e.querySearchAsync,placeholder:"请输入内容"},on:{select:e.handleSelect,change:e.handleSelect},model:{value:e.searchName,callback:function(t){e.searchName=t},expression:"searchName"}})],1),a("div",[e._v(" 产品分类 "),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.hanldeClassify},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),a("el-main",[a("div",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:"",id:"out-table"}},[a("el-table-column",{attrs:{prop:"product_id",label:"产品编号",width:"80"}}),a("el-table-column",{attrs:{prop:"product_img",label:"产品图片",width:"135"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-image",{staticStyle:{width:"110px",height:"110px"},attrs:{src:e.qiNiuDomainName+t.row.product_img,"preview-src-list":[e.qiNiuDomainName+t.row.product_img],fit:"cover"}})]}}])}),a("el-table-column",{attrs:{prop:"product_name",label:"产品名称"}}),a("el-table-column",{attrs:{prop:"product_detailed",label:"产品内容"}}),a("el-table-column",{attrs:{prop:"purchasing_price",label:"进价"}}),a("el-table-column",{attrs:{prop:"selling_price",label:"售价"}}),a("el-table-column",{attrs:{prop:"classify",label:"类别"}}),a("el-table-column",{attrs:{prop:"exchangeIntegral",label:"获得积分"}}),a("el-table-column",{attrs:{prop:"inventory",label:"库存",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{value:0===t.row.inventory,"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.handleInventory(t.row)}}})]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(a){return e.handleAdd(t.$index,t.row)}}},[e._v("加入订单")])]}}])})],1)],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":[3,5,7,9],layout:"total,sizes,prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1)]),a("el-dialog",{attrs:{title:"订单录入",visible:e.addBounced,width:"40%","destroy-on-close":""},on:{"update:visible":function(t){e.addBounced=t}}},[a("el-form",{attrs:{"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"产品图片"}},[a("el-image",{staticStyle:{width:"50%"},attrs:{src:e.product_img,fit:"contain"}})],1),a("el-form-item",{attrs:{label:"产品名称"}},[a("el-input",{attrs:{disabled:""},model:{value:e.product_name,callback:function(t){e.product_name=t},expression:"product_name"}})],1),a("el-form-item",{attrs:{label:"获得积分"}},[a("el-input",{attrs:{disabled:""},model:{value:e.exchangeIntegral,callback:function(t){e.exchangeIntegral=t},expression:"exchangeIntegral"}})],1),a("el-form-item",{attrs:{label:"订单种类"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.kindValue,callback:function(t){e.kindValue=t},expression:"kindValue"}},e._l(e.kindList,(function(e){return a("el-option",{key:e.value,attrs:{value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"会员手机"}},[a("el-input",{model:{value:e.member_phone,callback:function(t){e.member_phone=t},expression:"member_phone"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.addBounced=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.handleSave()}}},[e._v("添加")])],1)],1)],1)},r=[],i=a("c4c8"),c=a("0861"),o=a("ca00"),l={data:function(){return{searchName:"",options:[],value:"",tableData:[],currentPage:1,pageSize:3,total:0,pagingCall:0,addBounced:!1,product_name:"",product_id:null,product_img:"",member_phone:"",exchangeIntegral:0,kindValue:"堂食/打包",kindList:[{value:"堂食/打包"},{value:"美团"},{value:"饿了么"},{value:"其他"}],qiNiuDomainName:o["c"]}},created:function(){var e=this;Object(i["g"])().then((function(t){e.options=t.data.data.classifyList})),Object(i["i"])(this.currentPage,this.pageSize).then((function(t){200===t.data.code&&(e.tableData=t.data.data.productList,e.total=t.data.data.total)}))},methods:{handleInventory:function(e){var t=this;Object(i["m"])(e.inventory,e.product_id).then((function(e){200===e.data.code?(t.$message({message:"修改成功!",type:"success"}),Object(i["i"])(t.currentPage,t.pageSize).then((function(e){200===e.data.code&&(t.tableData=e.data.data.productList,t.total=e.data.data.total)}))):t.$message.error("服务器繁忙,请稍后再试")}))},querySearchAsync:function(e,t){var a=[{}];Object(i["p"])(e).then((function(e){a=e.data.data.searchList,t(a)})).catch((function(e){console.log(e)}))},handleSelect:function(e){var t=this;this.currentPage=1,Object(i["j"])(this.searchName,this.currentPage,this.pageSize).then((function(e){200===e.data.code?(t.pagingCall=1,t.tableData=e.data.data.productList,t.total=e.data.data.total,t.$message({message:"查询成功!",type:"success"})):t.$message("未查询到该产品!")}))},hanldeClassify:function(e){var t=this;this.currentPage=1,Object(i["h"])(e,this.currentPage,this.pageSize).then((function(e){200===e.data.code?(t.tableData=e.data.data.productList,t.total=e.data.data.total,t.pagingCall=2,t.$message({message:"查询成功!",type:"success"})):t.$message("该分类未添加产品!")}))},handleSizeChange:function(e){var t=this;this.pageSize=e,Object(i["i"])(this.currentPage,this.pageSize).then((function(e){200===e.data.code&&(t.tableData=e.data.data.productList,t.total=e.data.data.total)}))},handleCurrentChange:function(e){var t=this;this.currentPage=e,0===this.pagingCall?Object(i["i"])(this.currentPage,this.pageSize).then((function(e){t.tableData=e.data.data.productList})):1===this.pagingCall?Object(i["j"])(this.searchName,this.currentPage,this.pageSize).then((function(e){200===e.data.code&&(t.tableData=e.data.data.productList)})):2===this.pagingCall&&Object(i["h"])(item,this.currentPage,this.pageSize).then((function(e){t.tableData=e.data.data.productList}))},handleAdd:function(e,t){var a=this;this.kindValue="堂食/打包",this.member_phone="",this.product_id=t.product_id,this.product_name=t.product_name,this.exchangeIntegral=t.exchangeIntegral,this.product_img=o["c"]+t.product_img,1===t.inventory?this.$confirm("该产品库存不足, 是否继续?","库存提醒",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.addBounced=!0})):this.addBounced=!0},handleSave:function(){var e=this;Object(c["a"])(this.product_id,this.kindValue,this.member_phone,this.exchangeIntegral).then((function(t){201===t.data.code?e.$message.error(t.data.msg):(t.data.data.integral?e.$message({message:"下单成功!该会员积分余额:"+t.data.data.integral,type:"success"}):e.$message({message:"下单成功!",type:"success"}),e.addBounced=!1)}))}}},u=l,s=(a("739b"),a("c701")),d=Object(s["a"])(u,n,r,!1,null,"6b5dc564",null);t["default"]=d.exports},6564:function(e,t,a){var n=a("42cc"),r=a("dbfe");e.exports=function(e,t,a){var i,c;return r&&"function"==typeof(i=t.constructor)&&i!==a&&n(c=i.prototype)&&c!==a.prototype&&r(e,c),e}},"739b":function(e,t,a){"use strict";a("4ec2")},9414:function(e,t,a){var n=a("4340"),r=a("1fef"),i="["+r+"]",c=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),l=function(e){return function(t){var a=String(n(t));return 1&e&&(a=a.replace(c,"")),2&e&&(a=a.replace(o,"")),a}};e.exports={start:l(1),end:l(2),trim:l(3)}},ca00:function(e,t,a){"use strict";a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return i}));a("d0bf");var n="http://lollipop.ink/";function r(e,t){return Math.floor(Math.random()*(t-e+1))+e}function i(e,t){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return Number(e)%4!==0||Number(e)%100===0&&Number(e)%400!==0||(a[1]=29),a[Number(t-1)]}},d0bf:function(e,t,a){"use strict";var n=a("aba0"),r=a("8d5c"),i=a("0ef8"),c=a("4450"),o=a("b64f"),l=a("3d7c"),u=a("6564"),s=a("34e1"),d=a("2bc8"),p=a("b921"),h=a("3de6").f,f=a("e329").f,g=a("22af").f,m=a("9414").trim,b="Number",v=r[b],_=v.prototype,y=l(p(_))==b,N=function(e){var t,a,n,r,i,c,o,l,u=s(e,!1);if("string"==typeof u&&u.length>2)if(u=m(u),t=u.charCodeAt(0),43===t||45===t){if(a=u.charCodeAt(2),88===a||120===a)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+u}for(i=u.slice(2),c=i.length,o=0;o<c;o++)if(l=i.charCodeAt(o),l<48||l>r)return NaN;return parseInt(i,n)}return+u};if(i(b,!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var x,S=function(e){var t=arguments.length<1?0:e,a=this;return a instanceof S&&(y?d((function(){_.valueOf.call(a)})):l(a)!=b)?u(new v(N(t)),a,S):N(t)},w=n?h(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),k=0;w.length>k;k++)o(v,x=w[k])&&!o(S,x)&&g(S,x,f(v,x));S.prototype=_,_.constructor=S,c(r,b,S)}}}]);
//# sourceMappingURL=chunk-725629b1.4c66dc57.js.map