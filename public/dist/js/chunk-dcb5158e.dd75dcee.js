(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dcb5158e"],{"0bd6":function(e,t,l){},"1fef":function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},6564:function(e,t,l){var a=l("42cc"),i=l("dbfe");e.exports=function(e,t,l){var n,r;return i&&"function"==typeof(n=t.constructor)&&n!==l&&a(r=n.prototype)&&r!==l.prototype&&i(e,r),e}},"8c6d":function(e,t,l){"use strict";l("0bd6")},9414:function(e,t,l){var a=l("4340"),i=l("1fef"),n="["+i+"]",r=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),s=function(e){return function(t){var l=String(a(t));return 1&e&&(l=l.replace(r,"")),2&e&&(l=l.replace(o,"")),l}};e.exports={start:s(1),end:s(2),trim:s(3)}},ca00:function(e,t,l){"use strict";l.d(t,"c",(function(){return a})),l.d(t,"b",(function(){return i})),l.d(t,"a",(function(){return n}));l("d0bf");var a="http://lollipop.ink/";function i(e,t){return Math.floor(Math.random()*(t-e+1))+e}function n(e,t){var l=[31,28,31,30,31,30,31,31,30,31,30,31];return Number(e)%4!==0||Number(e)%100===0&&Number(e)%400!==0||(l[1]=29),l[Number(t-1)]}},d0bf:function(e,t,l){"use strict";var a=l("aba0"),i=l("8d5c"),n=l("0ef8"),r=l("4450"),o=l("b64f"),s=l("3d7c"),c=l("6564"),u=l("34e1"),f=l("2bc8"),p=l("b921"),g=l("3de6").f,d=l("e329").f,m=l("22af").f,b=l("9414").trim,h="Number",A=i[h],L=A.prototype,_=s(p(L))==h,v=function(e){var t,l,a,i,n,r,o,s,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=b(c),t=c.charCodeAt(0),43===t||45===t){if(l=c.charCodeAt(2),88===l||120===l)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+c}for(n=c.slice(2),r=n.length,o=0;o<r;o++)if(s=n.charCodeAt(o),s<48||s>i)return NaN;return parseInt(n,a)}return+c};if(n(h,!A(" 0o1")||!A("0b1")||A("+0x1"))){for(var y,k=function(e){var t=arguments.length<1?0:e,l=this;return l instanceof k&&(_?f((function(){L.valueOf.call(l)})):s(l)!=h)?c(new A(v(t)),l,k):v(t)},I=a?g(A):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),x=0;I.length>x;x++)o(A,y=I[x])&&!o(k,y)&&m(k,y,d(A,y));k.prototype=L,L.constructor=k,r(i,h,k)}},f9ca:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-container",[l("el-main",[l("el-form",{attrs:{"label-position":"right","label-width":"80px",model:e.formLabelAlign}},[l("el-form-item",{attrs:{label:"产品图片"}},[l("el-upload",{ref:"upload",staticClass:"uploaderImg",attrs:{action:"http://up-z0.qiniu.com",accept:"image/jpeg, image/gif, image/png, image/bmp",data:e.uploadData,"on-success":e.handleSuccess,"on-error":e.uploadError,"before-upload":e.beforeUpload,"on-change":e.handleChange,"on-remove":e.deleteUpload,"list-type":"picture-card",limit:1,"show-file-list":!0,"auto-upload":!1}},[l("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),l("el-form-item",{attrs:{label:"产品名称"}},[l("el-input",{model:{value:e.formLabelAlign.product_name,callback:function(t){e.$set(e.formLabelAlign,"product_name",t)},expression:"formLabelAlign.product_name"}})],1),l("el-form-item",{attrs:{label:"产品内容"}},[l("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.formLabelAlign.product_detailed,callback:function(t){e.$set(e.formLabelAlign,"product_detailed",t)},expression:"formLabelAlign.product_detailed"}})],1),l("el-form-item",{attrs:{label:"产品进价"}},[l("el-input",{staticClass:"price",model:{value:e.formLabelAlign.purchasing_price,callback:function(t){e.$set(e.formLabelAlign,"purchasing_price",t)},expression:"formLabelAlign.purchasing_price"}})],1),l("el-form-item",{attrs:{label:"产品售价"}},[l("el-input",{staticClass:"price",model:{value:e.formLabelAlign.selling_price,callback:function(t){e.$set(e.formLabelAlign,"selling_price",t)},expression:"formLabelAlign.selling_price"}})],1),l("el-form-item",{attrs:{label:"获得积分"}},[l("el-input",{staticClass:"price",model:{value:e.formLabelAlign.exchangeIntegral,callback:function(t){e.$set(e.formLabelAlign,"exchangeIntegral",t)},expression:"formLabelAlign.exchangeIntegral"}})],1),l("el-form-item",{attrs:{label:"库存状态"}},[l("el-radio",{attrs:{label:0},model:{value:e.formLabelAlign.inventory,callback:function(t){e.$set(e.formLabelAlign,"inventory",t)},expression:"formLabelAlign.inventory"}},[e._v("充足")]),l("el-radio",{attrs:{label:1},model:{value:e.formLabelAlign.inventory,callback:function(t){e.$set(e.formLabelAlign,"inventory",t)},expression:"formLabelAlign.inventory"}},[e._v("不充足")])],1),l("el-form-item",{attrs:{label:"产品分类"}},[l("el-select",{attrs:{placeholder:"请选择"},model:{value:e.formLabelAlign.classify,callback:function(t){e.$set(e.formLabelAlign,"classify",t)},expression:"formLabelAlign.classify"}},e._l(e.formLabelAlign.classifyList,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),l("div",{staticClass:"btn"},[l("el-button",{attrs:{type:"danger",plain:""},on:{click:function(t){return e.resetBtn()}}},[e._v("重置")]),l("el-button",{attrs:{type:"success",plain:""},on:{click:function(t){return e.addBtn()}}},[e._v("添加")])],1)],1)],1)},i=[],n=l("c4c8"),r=l("ca00"),o={data:function(){return{uploadData:{key:"",token:""},qiniuConfig:{qiniuPath:r["c"]},imageUrl:"product_img",isUpload:!1,formLabelAlign:{product_name:"",product_detailed:null,purchasing_price:null,selling_price:null,inventory:0,classify:null,exchangeIntegral:null,classifyList:[]}}},created:function(){var e=this;Object(n["k"])().then((function(t){200===t.data.code&&(e.uploadData.token=t.data.data.uploadToken)})),Object(n["c"])().then((function(t){e.formLabelAlign.classifyList=t.data.data}))},methods:{handleChange:function(){this.isUpload=!0},deleteUpload:function(){this.isUpload=!1},verification:function(){var e=this;this.formLabelAlign.product_detailed||(this.formLabelAlign.product_detailed=""),this.formLabelAlign.purchasing_price||(this.formLabelAlign.purchasing_price=0),this.formLabelAlign.selling_price||(this.formLabelAlign.selling_price=0),this.formLabelAlign.classify||(this.formLabelAlign.classify=0),this.formLabelAlign.exchangeIntegral||(this.formLabelAlign.exchangeIntegral=0),Object(n["b"])(this.formLabelAlign.product_name,this.formLabelAlign.product_detailed,this.formLabelAlign.purchasing_price,this.formLabelAlign.selling_price,this.formLabelAlign.inventory,this.formLabelAlign.classify,this.formLabelAlign.exchangeIntegral,this.imageUrl).then((function(t){200===t.data.code?(e.$message({message:"添加成功!",type:"success"}),e.$refs.upload.clearFiles(),e.imageUrl="product_img",e.isUpload=!1,e.formLabelAlign={product_name:"",product_detailed:null,purchasing_price:null,selling_price:null,inventory:0,classify:null,classifyList:[]}):e.$message.error("添加失败!请稍后再试!")}))},handleSuccess:function(e,t,l){this.imageUrl=e.key,this.verification()},beforeUpload:function(e){var t="image/png"===e.type,l="image/jpeg"===e.type,a="image/jpg"===e.type,i=e.size/1024/1024<2;if(!t&&!l&&!a)return this.$message.error("上传头像图片只能是 jpg、png、jpeg 格式!"),!1;if(!i)return this.$message.error("上传头像图片大小不能超过 2MB!"),!1;for(var n=0;n<5;n++)this.uploadData.key=this.uploadData.key+Object(r["b"])(0,9);this.uploadData.key="".concat((new Date).getTime())+this.uploadData.key},uploadError:function(e,t,l){this.$message({message:"上传出错，请重试！",type:"error",center:!0})},resetBtn:function(){this.$refs.upload.clearFiles(),this.imageUrl="product_img",this.isUpload=!1,this.formLabelAlign={product_name:"",product_detailed:null,purchasing_price:null,selling_price:null,inventory:0,classify:null,classifyList:[]}},addBtn:function(){""!==this.formLabelAlign.product_name?this.isUpload?this.$refs.upload.submit():this.verification():this.$message.error("产品名称不能为空!")}}},s=o,c=(l("8c6d"),l("c701")),u=Object(c["a"])(s,a,i,!1,null,"1212c0db",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-dcb5158e.dd75dcee.js.map